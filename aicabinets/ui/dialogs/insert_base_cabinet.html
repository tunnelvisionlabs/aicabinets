<!DOCTYPE html>
<html lang="en" data-dialog-id="insert_base_cabinet">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>AI Cabinets — Insert Base Cabinet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      (function () {
        var search = window.location.search || '';
        if (/[?&]__aicabinets_test__=true\b/.test(search)) {
          window.__AICABINETS_TEST__ = true;
        }
      })();
    </script>
    <script src="console_bridge.js"></script>
    <script>
      (function () {
        if (window.__AICABINETS_TEST__ !== true) {
          return;
        }

        function ping(phase) {
          try {
            if (
              window.sketchup &&
              typeof window.sketchup.__aicabinets_test_boot === 'function'
            ) {
              window.sketchup.__aicabinets_test_boot(phase);
            }
          } catch (error) {
            // Ignore bootstrap errors in test mode; the Ruby harness will time out if needed.
          }
        }

        ping('dom-loading');

        document.addEventListener('DOMContentLoaded', function () {
          ping('dom-ready');
        });
      })();
    </script>
    <link rel="stylesheet" href="insert_base_cabinet.css" />
  </head>
  <body>
    <div class="dialog">
      <header class="dialog__header">
        <h1 class="dialog__title" data-role="dialog-title">Insert Base Cabinet</h1>
        <p class="dialog__subtitle" data-role="dialog-subtitle">
          Configure cabinet parameters, then choose <strong>Insert</strong> when ready.
        </p>
      </header>

      <div
        id="sr-updates"
        role="status"
        aria-live="polite"
        aria-atomic="true"
        class="sr-only"
        data-role="dialog-status"
      ></div>

      <main class="dialog__content" role="main">
        <div class="dialog__layout" data-role="dialog-layout">
          <section
            class="layout-preview"
            data-role="layout-preview-pane"
            aria-label="Cabinet layout preview"
            hidden
          >
            <h2 class="layout-preview__title">Layout preview</h2>
            <div class="layout-preview__canvas" data-role="layout-preview-container"></div>
          </section>

          <form class="form" data-role="insert-form" novalidate>
          <section class="dialog__scope is-hidden" data-role="scope-section">
            <div class="scope-toggle__group" data-role="scope-controls">
              <fieldset class="scope-toggle" data-field="scope">
                <legend class="scope-toggle__legend" id="scope-toggle-legend">
                  Scope
                </legend>
                <div class="scope-toggle__options">
                  <div class="scope-toggle__option">
                    <input
                      type="radio"
                      class="scope-toggle__input"
                      id="scope-instance"
                      name="scope"
                      value="instance"
                      checked
                    />
                    <label class="scope-toggle__label" for="scope-instance">
                      <span>This instance only</span>
                    </label>
                  </div>
                  <div class="scope-toggle__option">
                    <input
                      type="radio"
                      class="scope-toggle__input"
                      id="scope-all"
                      name="scope"
                      value="all"
                    />
                    <label class="scope-toggle__label" for="scope-all">
                      <span>All instances</span>
                    </label>
                  </div>
                </div>
              </fieldset>
              <p class="scope-toggle__hint" data-role="scope-hint" hidden></p>
            </div>
            <p class="scope-note" data-role="scope-note" hidden>
              Scope: This cabinet (already unique).
            </p>
          </section>

          <p class="form__notice" data-role="units-note">
            Values without a suffix use the model’s display unit. Examples: 600, 450mm, 2' 3-1/2", 24 in.
          </p>
          <div class="form__banner" data-role="form-banner" hidden></div>
          <div
            class="form__placing-indicator"
            data-role="placing-indicator"
            hidden
          >
            Placing cabinet… click in model.
          </div>

          <section class="form__section">
            <h2 class="form__section-title">Style</h2>
            <div class="form__grid form__grid--columns">
              <div class="form-field" data-field="cabinet_type" data-role="style-field">
                <label for="field-style">Style</label>
                <select id="field-style" name="cabinet_type" data-role="style-select">
                  <option value="base">Base</option>
                  <option value="upper">Upper</option>
                  <option value="tall" disabled title="Coming soon">Tall</option>
                  <option value="corner" disabled title="Coming soon">Corner</option>
                </select>
              </div>
            </div>
          </section>

          <div class="style-fieldsets" data-role="style-fieldsets">
            <fieldset class="style-fieldsets__group" data-styles="shared">
              <legend class="style-fieldsets__legend sr-only">
                Shared cabinet settings
              </legend>
            </fieldset>
            <fieldset class="style-fieldsets__group" data-styles="base">
              <legend class="style-fieldsets__legend sr-only">
                Base cabinet settings
              </legend>
            </fieldset>
            <fieldset
              class="style-fieldsets__group"
              data-styles="upper"
              hidden
              aria-hidden="true"
              inert
            >
              <legend class="style-fieldsets__legend sr-only">
                Upper cabinet settings
              </legend>
            </fieldset>
          </div>

          <section class="form__section">
            <h2 class="form__section-title">Dimensions</h2>
            <div class="form__grid">
              <div class="form-field" data-field="width">
                <label for="field-width">Width</label>
                <input
                  type="text"
                  id="field-width"
                  name="width"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Overall cabinet width.</p>
                <p class="field-error" data-error-for="width"></p>
              </div>

              <div class="form-field" data-field="depth">
                <label for="field-depth">Depth</label>
                <input
                  type="text"
                  id="field-depth"
                  name="depth"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Overall cabinet depth.</p>
                <p class="field-error" data-error-for="depth"></p>
              </div>

              <div class="form-field" data-field="height">
                <label for="field-height">Height</label>
                <input
                  type="text"
                  id="field-height"
                  name="height"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Overall cabinet height.</p>
                <p class="field-error" data-error-for="height"></p>
              </div>

              <div class="form-field" data-field="panel_thickness">
                <label for="field-panel-thickness">Panel thickness</label>
                <input
                  type="text"
                  id="field-panel-thickness"
                  name="panel_thickness"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Carcass panel thickness.</p>
                <p class="field-error" data-error-for="panel_thickness"></p>
              </div>

              <div class="form-field" data-field="toe_kick_height">
                <label for="field-toe-kick-height">Toe kick height</label>
                <input
                  type="text"
                  id="field-toe-kick-height"
                  name="toe_kick_height"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Height of the toe kick recess.</p>
                <p class="field-error" data-error-for="toe_kick_height"></p>
              </div>

              <div class="form-field" data-field="toe_kick_depth">
                <label for="field-toe-kick-depth">Toe kick depth</label>
                <input
                  type="text"
                  id="field-toe-kick-depth"
                  name="toe_kick_depth"
                  autocomplete="off"
                  inputmode="decimal"
                />
                <p class="field-help">Depth of the toe kick recess.</p>
                <p class="field-error" data-error-for="toe_kick_depth"></p>
              </div>
            </div>
          </section>

          <section class="form__section">
            <h2 class="form__section-title">Configuration</h2>

            <fieldset class="segmented-control" data-role="partition-mode-group">
              <legend class="segmented-control__legend">Partition mode</legend>
              <div class="segmented-control__options">
                <div class="segmented-control__option">
                  <input
                    type="radio"
                    class="segmented-control__input"
                    id="partition-mode-none"
                    name="partition_mode"
                    value="none"
                    checked
                  />
                  <label class="segmented-control__label" for="partition-mode-none">
                    <span>None</span>
                  </label>
                </div>
                <div class="segmented-control__option">
                  <input
                    type="radio"
                    class="segmented-control__input"
                    id="partition-mode-vertical"
                    name="partition_mode"
                    value="vertical"
                  />
                  <label class="segmented-control__label" for="partition-mode-vertical">
                    <span>Vertical (start left)</span>
                  </label>
                </div>
                <div class="segmented-control__option">
                  <input
                    type="radio"
                    class="segmented-control__input"
                    id="partition-mode-horizontal"
                    name="partition_mode"
                    value="horizontal"
                  />
                  <label class="segmented-control__label" for="partition-mode-horizontal">
                    <span>Horizontal (start top)</span>
                  </label>
                </div>
              </div>
            </fieldset>

            <div class="form__grid form__grid--columns">
              <div class="form-field" data-field="front" data-role="global-front-group">
                <label for="field-front">Front layout</label>
                <select id="field-front" name="front">
                  <option value="empty">Open (no doors)</option>
                  <option value="doors_left">Doors — left hinge</option>
                  <option value="doors_right">Doors — right hinge</option>
                  <option value="doors_double">Doors — double</option>
                </select>
                <p class="field-help">Choose the door configuration for the cabinet front.</p>
                <p class="field-error" data-error-for="front"></p>
              </div>

              <div class="form-field" data-field="shelves" data-role="global-shelves-group">
                <label for="field-shelves">Shelves</label>
                <input
                  type="number"
                  id="field-shelves"
                  name="shelves"
                  inputmode="numeric"
                  min="0"
                  step="1"
                />
                <p class="field-help">Number of adjustable shelves.</p>
                <p class="field-error" data-error-for="shelves"></p>
              </div>
            </div>
            <div class="form__grid form__grid--columns" data-role="partition-controls">
              <div class="form-field" data-field="partitions_mode">
                <label for="field-partitions-mode">Partition layout</label>
                <select id="field-partitions-mode" name="partitions_mode">
                  <option value="none">None</option>
                  <option value="even">Even spacing</option>
                  <option value="positions">Specific positions</option>
                </select>
                <p class="field-help">
                  Add partitions to divide the interior. Choose even spacing or provide explicit positions.
                </p>
                <p class="field-error" data-error-for="partitions_mode"></p>
              </div>

              <div class="form-field is-hidden" data-field="partitions_count" data-partitions-control="even">
                <label for="field-partitions-count">Partition count</label>
                <input
                  type="number"
                  id="field-partitions-count"
                  name="partitions_count"
                  inputmode="numeric"
                  min="0"
                  step="1"
                />
                <p class="field-help">Number of evenly spaced partitions.</p>
                <p class="field-error" data-error-for="partitions_count"></p>
              </div>

              <div class="form-field is-hidden" data-field="partitions_positions" data-partitions-control="positions">
                <label for="field-partitions-positions">Partition positions</label>
                <input
                  type="text"
                  id="field-partitions-positions"
                  name="partitions_positions"
                  autocomplete="off"
                  inputmode="decimal"
                  placeholder="e.g., 100mm, 250mm, 400mm"
                />
                <p class="field-help">
                  Comma-separated distances from the starting edge. Values must increase and use allowed units.
                </p>
                <p class="field-error" data-error-for="partitions_positions"></p>
              </div>
            </div>
          </section>

          <section class="form__section" data-role="bay-section">
            <h2 class="form__section-title" data-role="bay-section-title"></h2>
            <div class="bay" data-role="bay-controls">
              <div class="bay__selector" data-role="bay-selector">
                <div
                  class="bay__chips"
                  role="tablist"
                  aria-label=""
                  data-role="bay-chips"
                ></div>
              </div>

              <fieldset class="bay-editor-toggle" data-role="bay-mode-fieldset">
                <legend
                  class="bay-editor-toggle__legend"
                  id="bay-editor-toggle-legend"
                  data-role="bay-mode-legend"
                ></legend>
                <div
                  class="bay-editor-toggle__options"
                  role="radiogroup"
                  aria-labelledby="bay-editor-toggle-legend"
                >
                  <div class="bay-editor-toggle__option">
                    <input
                      type="radio"
                      class="bay-editor-toggle__input"
                      id="bay-editor-fronts"
                      name="bay-editor-mode"
                      value="fronts_shelves"
                      data-role="bay-mode-option"
                    />
                    <label class="bay-editor-toggle__label" for="bay-editor-fronts">
                      <span data-role="bay-mode-label-fronts"></span>
                    </label>
                  </div>
                  <div class="bay-editor-toggle__option">
                    <input
                      type="radio"
                      class="bay-editor-toggle__input"
                      id="bay-editor-subpartitions"
                      name="bay-editor-mode"
                      value="subpartitions"
                      data-role="bay-mode-option"
                    />
                    <label class="bay-editor-toggle__label" for="bay-editor-subpartitions">
                      <span data-role="bay-mode-label-subpartitions"></span>
                    </label>
                  </div>
                </div>
              </fieldset>

              <div class="bay__editor" data-role="bay-fronts-editor">
                <div class="bay__row" data-role="bay-shelf-row">
                  <label class="bay__label" for="bay-shelf-count" data-role="bay-shelf-label"></label>
                  <div class="bay-stepper" data-role="bay-stepper">
                    <button
                      type="button"
                      class="bay-stepper__button"
                      data-role="bay-stepper-decrease"
                      aria-label=""
                    ></button>
                    <input
                      type="number"
                      id="bay-shelf-count"
                      class="bay-stepper__input"
                      data-role="bay-shelf-input"
                      min="0"
                      step="1"
                      inputmode="numeric"
                      aria-label=""
                    />
                    <button
                      type="button"
                      class="bay-stepper__button"
                      data-role="bay-stepper-increase"
                      aria-label=""
                    ></button>
                  </div>
                </div>

                <fieldset class="bay-door" data-role="bay-door-fieldset">
                  <legend class="bay-door__legend" data-role="bay-door-legend"></legend>
                  <div
                    class="bay-door__options"
                    role="radiogroup"
                    aria-labelledby="bay-door-legend"
                    data-role="bay-door-options"
                  >
                    <label class="bay-door__option">
                      <input
                        type="radio"
                        name="bay-door-mode"
                        value="none"
                        data-role="bay-door-option"
                      />
                      <span data-role="bay-door-label-none"></span>
                    </label>
                    <label class="bay-door__option">
                      <input
                        type="radio"
                        name="bay-door-mode"
                        value="doors_left"
                        data-role="bay-door-option"
                      />
                      <span data-role="bay-door-label-left"></span>
                    </label>
                    <label class="bay-door__option">
                      <input
                        type="radio"
                        name="bay-door-mode"
                        value="doors_right"
                        data-role="bay-door-option"
                      />
                      <span data-role="bay-door-label-right"></span>
                    </label>
                    <label class="bay-door__option">
                      <input
                        type="radio"
                        name="bay-door-mode"
                        value="doors_double"
                        data-role="bay-door-option"
                      />
                      <span data-role="bay-door-label-double"></span>
                    </label>
                  </div>
              <p class="bay-door__hint" data-role="bay-double-hint" hidden></p>
                </fieldset>
              </div>

              <div class="bay__editor bay__editor--subpartitions is-hidden" data-role="bay-subpartitions-editor">
                <div class="bay__row" data-role="bay-subpartition-row">
                  <label class="bay__label" for="bay-subpartition-count" data-role="bay-subpartition-label"></label>
                  <div class="bay-stepper" data-role="bay-subpartition-stepper">
                    <button
                      type="button"
                      class="bay-stepper__button"
                      data-role="bay-subpartition-decrease"
                      aria-label=""
                    ></button>
                    <input
                      type="number"
                      id="bay-subpartition-count"
                      class="bay-stepper__input"
                      data-role="bay-subpartition-input"
                      min="0"
                      step="1"
                      inputmode="numeric"
                      aria-label=""
                    />
                    <button
                      type="button"
                      class="bay-stepper__button"
                      data-role="bay-subpartition-increase"
                      aria-label=""
                    ></button>
                  </div>
                </div>
              </div>

              <div class="bay__actions" data-role="bay-actions">
                <button type="button" class="button button--tertiary" data-role="bay-apply-all"></button>
                <button type="button" class="button button--tertiary" data-role="bay-copy-lr" hidden></button>
              </div>

            </div>
          </section>
          </form>
        </div>
      </main>

      <footer class="dialog__footer">
        <button
          type="button"
          class="button button--primary"
          data-action="insert"
          data-role="primary-action"
          disabled
        >
          Insert
        </button>
        <button
          type="button"
          class="button"
          data-action="cancel"
          data-role="secondary-action"
        >
          Cancel
        </button>
      </footer>
    </div>

    <script src="../strings/en.js"></script>
    <script src="insert_base_cabinet.js"></script>
  </body>
</html>
